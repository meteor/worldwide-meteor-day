var seedDataJson = [
    {
        "region" : "North America",
        "meetups" : [
            {
                "url": "http://www.meetup.com/Meteor-Ann-Arbor/events/212839752/",
                "city": "Ann Arbor"
            },
            {
                "url": "http://www.meetup.com/Meteor-Athens/events/212729522/",
                "city": "Athens, GA"
            },
            {
                "url": "http://www.meetup.com/Meteor-Atlanta/events/212584772/",
                "city": "Atlanta"
            },
            {
                "url": "http://www.meetup.com/Meteor-Austin/events/212457552/",
                "city": "Austin, TX"
            },
            {
                "url": "http://www.meetup.com/East-Bay-Meteor/events/213471382/",
                "city": "Berkeley, CA"
            },
            {
                "url": "http://www.meetup.com/Meteor-Boston/events/215092572/",
                "city": "Boston, MA"
            },
            {
                "url": "http://www.meetup.com/Meteor-Boston/events/216269112/",
                "city": "Boston (Northwest)"
            },
            {
                "url": "http://www.meetup.com/Meteor-Boulder/events/211966602/",
                "city": "Boulder"
            },
            {
                "url": "http://www.meetup.com/Meteor-Burlington/events/212852072/",
                "city": "Burlington, VT"
            },
            {
                "url": "http://www.meetup.com/Meteor-Charlotte/events/211968732/",
                "city": "Charlotte"
            },
            {
                "url": "http://www.meetup.com/Meteor-Chicago/events/216180012/",
                "city": "Chicago, IL"
            },
            {
                "url": "http://www.meetup.com/Meteor-Cincinnati/events/211863632/",
                "city": "Cincinnati"
            },
            {
                "url": "http://www.meetup.com/Meteor-Dallas/events/215037062/",
                "city": "Dallas, TX"
            },
            {
                "url": "http://www.meetup.com/Meteor-Mexico/events/216180112/",
                "city": "Distrito Federal, México"
            },
            {
                "url": "http://www.meetup.com/Meteor-Mexico/events/216177192/",
                "city": "Guadalajara, Mexico"
            },
            {
                "url": "http://www.meetup.com/Meteor-Hudson-Valley/events/211258902/",
                "city": "Hudson-Valley"
            },
            {
                "url": "http://www.meetup.com/Meteor-Las-Vegas/events/212820662/",
                "city": "Las Vegas"
            },
            {
                "url": "http://www.meetup.com/Meteor-LA/events/216181752/",
                "city": "Los Angeles, CA"
            },
            {
                "url": "http://www.meetup.com/Meteor-Minneapolis/events/209674882/",
                "city": "Minneapolis"
            },
            {
                "url": "http://www.meetup.com/Meteor-Mobile-AL/events/215990332/",
                "city": "Mobile, AL"
            },
            {
                "url": "http://www.meetup.com/Meteor-Nashville/events/213777152/",
                "city": "Nashville"
            },
            {
                "url": "http://www.meetup.com/Meteor-NY/events/212304662/",
                "city": "New York"
            },
            {
                "url": "http://www.meetup.com/Meteor-Norfolk/events/213228112/",
                "city": "Norfolk, VA"
            },
            {
                "url": "http://www.meetup.com/Meteor-Portland/events/215188132/",
                "city": "Portland, OR"
            },
            {
                "url": "http://www.meetup.com/Meteor-Philadelphia/events/207919652/",
                "city": "Philadelphia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Phoenix/events/213434942/",
                "city": "Phoenix, AZ"
            },
            {
                "url": "http://www.meetup.com/Meteor-Pittsburgh/events/213338692/",
                "city": "Pittsburgh, PA"
            },
            {
                "url": "http://www.meetup.com/Meteor-Salt-Lake-City/events/212357932/",
                "city": "Salt Lake City"
            },
            {
                "url": "http://www.meetup.com/Meteor-San-Diego/events/212811012/",
                "city": "San Diego"
            },
            {
                "url": "http://www.meetup.com/Meteor-SFBay/events/214137082/",
                "city": "San Francisco"
            },
            {
                "url": "http://www.meetup.com/Meteor-Sandpoint-ID/events/216050732/",
                "city": "Sandpoint, ID"
            },
            {
                "url": "http://www.meetup.com/Meteor-Dominican-Republic/events/216016802/",
                "city": "Santo Domingo, Dominican Republic"
            },
            {
                "url": "http://www.meetup.com/Meteor-Seattle/events/211252702/",
                "city": "Seattle"
            },
            {
                "url": "http://www.meetup.com/Stamford-Meteor/events/214238582/",
                "city": "Stamford, CT"
            },
            {
                "url": "http://www.meetup.com/Meteor-Tampa-Bay/events/213805642/",
                "city": "Tampa, FL"
            },
            {
                "url": "http://www.meetup.com/Meteor-Toronto/events/211202122/",
                "city": "Toronto"
            },
            {
                "url": "http://www.meetup.com/Meteor-Vancouver/events/212040722/",
                "city": "Vancouver"
            },
            {
                "url": "http://www.meetup.com/Meteor-Washington/events/213121792/",
                "city": "Washington, DC"
            }
        ]
    },
    {
        "region" : "Europe",
        "meetups" : [
            {
                "url": "http://www.meetup.com/Meteor-Amsterdam/events/212182012/",
                "city": "Amsterdam, The Netherlands"
            },
            {
                "url": "http://www.meetup.com/Meteor-Athens-Greece/events/215885122/",
                "city": "Athens, Greece"
            },
            {
                "url": "http://www.meetup.com/Meteor-Basel/events/212949602/",
                "city": "Basel, Switzerland"
            },
            {
                "url": "http://www.meetup.com/Meteor-Berlin/events/213145232/",
                "city": "Berlin, Germany"
            },
            {
                "url": "http://www.meetup.com/Brasov-Meteor-Meetup/events/213327372/",
                "city": "Brasov, Romania"
            },
            {
                "url": "http://www.meetup.com/Meteor-Brussels/events/212624782/",
                "city": "Brussels, Belgium"
            },
            {
                "url": "http://www.meetup.com/Meteor-Bucharest/events/215133362/",
                "city": "Bucharest, Romania"
            },
            {
                "url": "http://www.meetup.com/Meteor-Budapest/events/214211572/",
                "city": "Budapest, Hungary"
            },
            {
                "url": "http://www.meetup.com/Meteor-Copenhagen/events/209821902/",
                "city": "Copenhagen, Denmark"
            },
            {
                "url": "http://www.meetup.com/Meteor-Goteborg/events/213776692/",
                "city": "Göteborg, Sweden"
            },
            {
                "url": "http://www.meetup.com/Meteor-Hamburg/events/200666622/",
                "city": "Hamburg, Germany"
            },
            {
                "url": "http://www.meetup.com/Meteor-Iasi",
                "city": "Iasi, Romania"
            },
            {
                "url": "http://www.meetup.com/Meteor-Kursk/events/214816762/",
                "city": "Kursk, Russia"
            },
            {
                "url": "http://www.meetup.com/Meteor-London/events/212413162/",
                "city": "London, England"
            },
            {
                "url": "http://www.meetup.com/Meteor-Luxembourg/events/215031892/",
                "city": "Luxembourg, Luxembourg"
            },
            {
                "url": "http://www.meetup.com/Meteor-Lyon/events/213321252/",
                "city": "Lyon, France"
            },
            {
                "url": "http://www.meetup.com/Meteor-Spain/events/209641782/",
                "city": "Madrid, Spain"
            },
            {
                "url": "http://www.meetup.com/Meteor-Manchester/events/213338472/",
                "city": "Manchester, United Kingdom"
            },
            {
                "url": "http://www.meetup.com/Meteor-Moscow/events/212818302/",
                "city": "Moscow, Russia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Munich/events/212465692/",
                "city": "München, Germany"
            },
            {
                "url": "http://www.meetup.com/Meteor-Oslo/events/214651932/",
                "city": "Oslo, Norway"
            },
            {
                "url": "http://www.meetup.com/Meteor-Paris/events/209630542/",
                "city": "Paris, France"
            },
            {
                "url": "http://www.meetup.com/Prague-Meteor-Meetup-Group/events/194284892/",
                "city": "Prague, Czech Republic"
            },
            {
                "url": "http://www.meetup.com/Meteor-Reykjavik/events/215154222/",
                "city": "Reykjavík, Iceland"
            },
            {
                "url": "http://www.meetup.com/Meteor-Ruhrpott/events/209628232/",
                "city": "Ruhrgebiet, Germany"
            },
            {
                "url": "http://www.meetup.com/Meteor-Sainte/events/212456062/",
                "city": "Saint-Étienne, France"
            },
            {
                "url": "http://www.meetup.com/Meteor-Stavanger/events/212937172/",
                "city": "Stavanger, Norway"
            },
            {
                "url": "http://www.meetup.com/Meteor-Tel-Aviv/events/216153252/",
                "city": "Tel Aviv, Israel"
            },
            {
                "url": "http://www.meetup.com/Meteor-Italia/events/210707922/",
                "city": "Torino, Itay"
            },
            {
                "url": "http://www.meetup.com/Meteor-Vienna/events/212511812/",
                "city": "Vienna, Austria"
            },
            {
                "url": "https://plus.google.com/events/cfjeq0qjfkuh4v38br2841cokmk",
                "city": "Visby, Sweden"
            },
            {
                "url": "http://www.meetup.com/Meteor-Wroclaw/events/212456442/",
                "city": "Wroclaw, Poland"
            },
            {
                "url": "http://www.meetup.com/Meteor-Zagreb/events/215551162/",
                "city": "Zagreb, Croatia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Zurich/events/212459702/",
                "city": "Zürich, Switzerland"
            }
        ],
    },
    {
        "region" : "Africa",
        "meetups" : [
            {
                "url": "http://www.meetup.com/Meteor-Ghana/events/212828612/",
                "city": "Accra, Ghana"
            },
            {
                "url": "http://www.meetup.com/Meteor-Addis-Abeba/events/214967602/",
                "city": "Addis Abeba, Ethiopia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Cape-Town/events/213585632/",
                "city": "Cape Town, South Africa"
            },
            {
                "url": "http://www.meetup.com/Meteor-Johannesburg/events/211202182/",
                "city": "Johannesburg, South Africa"
            }
        ]
    },
    {
        "region" : "Asia",
        "meetups" : [
            {
                "url": "http://www.meetup.com/Meteor-Bangalore/events/213089712/",
                "city": "Bangalore, India"
            },
            {
                "url": "http://www.meetup.com/Meteor-Beijing/events/212604652/",
                "city": "Beijing, China"
            },
            {
                "url": "http://www.meetup.com/Meteor-Chennai/events/195484902/",
                "city": "Chennai, India"
            },
            {
                "url": "http://www.meetup.com/Meteor-HK/events/213330512/",
                "city": "Hong Kong, Hong Kong"
            },
            {
                "url": "http://www.meetup.com/Meteor-Jakarta/events/213790002/",
                "city": "Jakarta, Indonesia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Mumbai/events/211252492/",
                "city": "Mumbai, India"
            },
            {
                "url": "http://www.meetup.com/Meteor-Nepal/members/176478782/",
                "city": "Pokhara, Nepal"
            },
            {
                "url": "http://www.meetup.com/Meteor-Seoul/events/212745182/",
                "city": "Seoul, South Korea"
            },
            {
                "url": "http://www.meetup.com/Meteor-Singapore/events/213820092/",
                "city": "Singapore, Singapore"
            },
            {
                "url": "http://www.meetup.com/Meteor-Taipei/events/213779732/",
                "city": "Taipei, Taiwan"
            }
        ]
    },
    {
        "region" : "Australia",
        "meetups" : [
            {
                "url": "http://www.meetup.com/Meteor-Melbourne/events/211337752/",
                "city": "Melbourne, Australia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Perth/events/214945022/",
                "city": "Perth, Australia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Sydney/events/212510832/",
                "city": "Sydney, Australia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Newcastle/events/216455972/",
                "city": "Newcastle, Australia"
            }
        ]
    },
    {
        "region" : "South America",
        "meetups" : [
            {
                "url": "http://www.meetup.com/Meteor-Buenos-Aires/events/193642162/",
                "city": "Buenos Aires"
            },
            {
                "url": "http://www.meetup.com/Meteor-Colombia/events/215774012/",
                "city": "Popayan, Colombia"
            },
            {
                "url": "http://www.meetup.com/Meteor-Porto-Alegre/events/212638412/",
                "city": "Porto Alegre, Brazil"
            },
            {
                "url": "http://www.meetup.com/Meteor-Sao-Paulo/events/212079472/",
                "city": "São Paulo, Brazil"
            }
        ]
    }
]
Meteor.startup(function() {
    // Authenticate with Meetup.com or have meteor account ?
    // Also, implement role for Admin ?

    // ....

    // Populate meetup seed data

    if (Meetups.find({}).count() < seedDataJson.length) {
        _.each(seedDataJson , function(regionObj) {
            region = regionObj.region;
            _.each(regionObj.meetups, function(meetup) {
                meetup.region = region;
                meetup.meetupId = meetup.url.replace(/\/\//g, "").split("/")[3];
                meetup.groupName = meetup.url.replace(/\/\//g, "").split("/")[1];
                if (!Meetups.findOne({meetupId: meetup.meetupId})) {
                    Meetups.insert(meetup);
                }
    
            })
        })
        
    }

    //Pull attendees on restart

    //Meteor.call("fetchRSVPs");

});
